<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <record id="email_template_batch_payment_request_for_approval" model="mail.template">
            <field name="name">Batch Payment: Request for approval</field>
            <field name="model_id" ref="account_batch_payment.model_account_batch_payment"/>
            <field name="subject">Request for approval (Ref {{ object.name or 'n/a' }})</field>
            <field name="email_from">{{(object.user_id.email_formatted or user.email_formatted) }}</field>
            <field name="partner_to">{{ object.current_approval_id.name.partner_id.id }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <t t-set="doc_name" t-value="'batch payment'"/>
                         Dear <t t-out="object.current_approval_id.name.partner_id.name"/>,
                        <br/><br/>
                        You are requested to approve <t t-out="doc_name or ''">batch payment</t> <span style="font-weight: bold;"  t-out="object.name or ''">BATCH/OUT/2023/0001</span>
                        amounting in <span style="font-weight: bold;"  t-out="format_amount(object.amount, object.currency_id) or ''">$ 10.00</span>.
                        <br/><br/>
                        <p>
                            <a t-att-href="'/mail/view?model=%s&amp;res_id=%s' % (object._name, object.id)"
                            style="background-color:#875A7B;padding: 8px 16px 8px 16px; text-decoration: none; color: #fff; border-radius: 5px; font-size:13px;">
                            View Batch Payment
                            </a>
                        </p>
                        <br/><br/>
                        Thanks
                        <br/>
                    </p>
                </div>
            </field>
            <field name="lang">{{ object.current_approval_id.name.partner_id.lang }}</field>
            <field name="auto_delete" eval="True"/>
        </record>

        <template id="batch_payment_approve">
            <p>
                Dear <t t-esc="object.user_id.sudo().name"/>,
            </p>
            <p>
                Batch Payment <strong><t t-esc="object.name"/></strong> is approved.
            </p>
            <p>
                <a t-att-href="'/mail/view?model=%s&amp;res_id=%s' % (object._name, object.id)">
                    View Batch Payment
                </a>
            </p>
        </template>

        <template id="batch_payment_reject">
            <p>
                Dear <t t-esc="object.user_id.sudo().name"/>,
            </p>
            <p>
                Batch Payment <strong><t t-esc="object.name"/></strong> is rejected. Please check reason and update.
            </p>
            <p>
                Reason: <t t-esc="reason"/>
            </p>
            <p>
                <a t-att-href="'/mail/view?model=%s&amp;res_id=%s' % (object._name, object.id)">
                    View Batch Payment
                </a>
            </p>
        </template>
    </data>
</odoo>